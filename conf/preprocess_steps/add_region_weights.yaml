add_region_weights_step:
  name: "Add Region Weights"
  parent: ${preprocess_region_weight}
  # Whether this can be skipped if it already exists
  skippable: false
  command: canari_ml_preprocess_add_region_weights
  positional:
    - ${preprocess_main.params.config_name}
    - ${preprocess_reproject.output.config_path}
    - ${preprocess_region_weight.name}
    - ${preprocess_region_weight.implementation}
  optional:
    --base-weight: ${preprocess_region_weight.base_weight}
    --weight-smoothing-sigma: ${preprocess_region_weight.weight_smoothing_sigma}
    --loader-path: ${preprocess_main.output.config_file}
    --destination-path: ${preprocess_region_weight.output.data_dir}
    --region-weights: ${preprocess_region_weight.region_weights}
    --mask-dataset-config-path: ${preprocess_region_weight.output.mask_dataset_config_path}
    --mask-config-path: ${preprocess_region_weight.output.mask_config_path}
  step_hash: ${preprocess_region_weight.step_hash}
